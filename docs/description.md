# Overview

Calculates pairwise similarity distances between immune receptor repertoires (TCR or BCR, bulk or single-cell) to quantify how similar or different repertoires are across samples, experimental conditions, or time points. The block computes all-versus-all pairwise comparisons using configurable overlap metrics that measure different aspects of repertoire similarity, enabling identification of samples with similar clonotype composition, tracking repertoire changes over time, or clustering samples based on repertoire similarity.

The block supports multiple similarity metrics including F1 and F2 scores, Jaccard index, Pearson correlation, and shared clonotype counts. Clonotypes can be aligned between samples using different intersection definitions (CDR3 nucleotide or amino acid sequences, with or without V and J gene information), allowing flexible comparison strategies. To ensure fair comparisons between samples with different sequencing depths, the block supports downsampling methods including selecting top clonotypes or statistically downsampling to a common size using hypergeometric sampling before calculating similarity metrics.
